#summary test out wiki stuff

{{{
Brandon Donnelson
http://gwt-examples.googlecode.com
http://c.gawkat.com
Challenge is to: Spice up the java forum with some profile pictures, lets beat the python community. :)
}}}


{{{
 public void deleteTmpBlobAll_FromTask(long taskId) {
    log.info("BlobTmpJdo.deleteTmpBlobAll(): deleting all the tmp blob records.");
    PersistenceManager pm = sp.getPersistenceManager();
    try {
      javax.jdo.Query q = pm.newQuery("select id from " + BlobTmpJdo.class.getName());
      List<String> ids = (List<String>) q.execute();
      Iterator<String> itr = ids.iterator();
      while(itr.hasNext()) {
        String id = itr.next();
        delete(id);
      }
      q.closeAll();
    } catch (Exception e) { 
      new Db_Feed_TaskQue(sp).deleteTask(taskId);
      log.log(Level.SEVERE, "", e);
    } finally {
      pm.close();
    }
    new Db_Feed_TaskQue(sp).deleteTask(taskId);
  }

 private void delete(String id) {
    PersistenceManager pm = sp.getPersistenceManager();
    Transaction tx = pm.currentTransaction();
    try {
      tx.begin();
      BlobTmpJdo btj = pm.getObjectById(BlobTmpJdo.class, id);
      pm.deletePersistent(btj);
      tx.commit();
    } finally {
      if (tx.isActive()) {
        tx.rollback();
      }
      pm.close();
    }
  }
}}}