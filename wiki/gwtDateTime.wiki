#summary getting date and time, unix time stamp, start and end of day with Java and GWT.

= How to get Date/Time with/in GWT =
 * get unix time stamp
 * get year, month, day, date, today, current date, timezone offset from gmt, hours, minutes, seconds, milliseconds
 * convert from unix time stamp to java time stamp
 * get the start of day unix time stamp (0:00:00) (12:00:00am)
 * get the end of day unix time stamp (23:59:59) (11:59:59pm)

== Eclipse Project ==
 Test this easily by downloading it via the svn. You will need to change your build path for the gwt-user.jar to from /opt/gwt-linux, unless that exists on your computer.
 * Download this as an eclipse project from the svn repository - [http://gwt-examples.googlecode.com/svn/trunk/gwt-test-DisplayDate/ Goto SVN: ~/gwt-test-DisplayDate/]

== Unix Time Stamp with TimeZone Offset ==
{{{
Date date = new Date();
int timezoneMin = date.getTimezoneOffset();
int TimeStamp = (int) (date.getTime() * .001) - timezoneMin * 60; //do timestamp with timzone
}}}

== Example Code From SVN ==
{{{
private int TimeStamp; //pass around a timestamp in the class

//Get Date Values
Date date = new Date();
int Month = date.getMonth();
int Day = date.getDate();
int Year = date.getYear();
int Hour = date.getHours();
int min = date.getMinutes();
int sec = date.getSeconds();
int tz = date.getTimezoneOffset();
int UnixTimeStamp = (int) (date.getTime() * .001); //unix time stamp

//get unix time stamp (seconds)
long lTimeStamp = date.getTime(); //time in milleseconds since the epoch
int iTimeStamp = (int) (lTimeStamp * .001); //(Cast) to Int from Long, Seconds since epoch
String sTimeStamp = Integer.toString(iTimeStamp); //seconds to string
 
//convert Unix Time Stamp (seconds) back to Java Time Stamp (milliseconds)
long longJavaTime =  (long) (iTimeStamp / .001);

//get start and end of day (seconds)
this.TimeStamp = UnixTimeStamp; //this will allow u to change the start and end day
String sStartOfDayTimeStamp = this.getDateStart_TimeStamp();
String sEndOfDayTimeStamp = this.getDateEnd_TimeStamp();


//proof the Start of Day timestamp to date - Today 00:00:00
long StartDateStamp = (long) (Integer.parseInt(sStartOfDayTimeStamp) / .001); //have to change back to milli for java time stamp
Date StartDate = new Date(StartDateStamp);

//proof the End of Day timestamp to date - Today 23:59:59
long EndDateStamp = (long) (Integer.parseInt(sEndOfDayTimeStamp) / .001); //have to change back to milli for java time stamp
Date EndDate = new Date(EndDateStamp);


/* HTML */
//Date To String - will show tz offset in string in browser, not eclipse debug window
HTML htmlGMTDate = new HTML("<b>GMT Date as String:</b> " + date.toString());
  
	//java time (milliseconds since epoch)
HTML htmlJavaTime = new HTML("<b>Java Date/Time (milliseconds since epoch):</b> " + date.getTime());

//Unix Time Stamp (seconds)
HTML htmlUnixTimeStamp = new HTML("<b>Unix Time Stamp (seconds sinc epoch):</b> " + sTimeStamp);

//Java Time Stamp from Unix Time Stamp
HTML htmlTimeMilliSeconds2TimeSeconds = new HTML("<b>Convert back to Time in milliseconds to time in seconds:</b> " + Long.toString(longJavaTime));

//Start of Day Time Stamp (seconds)
HTML htmlStartOfDay = new HTML("<b>Start Of Day Time Stamp Today 0:00:00 (seconds since epoch):</b> " + sStartOfDayTimeStamp);

//End of Day Time Stamp (seconds)
HTML htmlEndOfDay = new HTML("<b>End of Day Time Stamp 23:59:59 (seconds since epoch):</b> " + sEndOfDayTimeStamp);

//proof Start of Day Time Stamp
HTML htmlProofStartOfDay = new HTML("<b>Proof Start of Day Time Stamp (Today 00:00:00):</b> " + StartDate.toString());

//proof End of Day Time Stamp
HTML htmlProofEndOfDay = new HTML("<b>Proof Start of Day Time Stamp (Today 23:59:59):</b> " + EndDate.toString());

/* make panel */
VerticalPanel vp = new VerticalPanel();
vp.add(htmlGMTDate);
vp.add(htmlJavaTime);
vp.add(htmlUnixTimeStamp);
vp.add(htmlTimeMilliSeconds2TimeSeconds);

vp.add(htmlStartOfDay);
vp.add(htmlEndOfDay);
vp.add(htmlProofStartOfDay);
vp.add(htmlProofEndOfDay);

RootPanel.get().add(vp);
}}}



Get the start of the day 0:00:00 am in seconds
{{{
/**
 * get Start of Day Time Stamp
 * @return unix time stamp (seconds)
 */
private String getDateStart_TimeStamp() {
	
	long ltime = (long) (this.TimeStamp / .001); //my unix time stamp in seconds
	
	//Figure out Unix time stamps for the start of the day and the end of the day
	Date DC = new Date(ltime); //get current Year, Month
	int year = DC.getYear(); //current Year
	int month = DC.getMonth(); //current Month
	int day = DC.getDate();// current Day
	
	Date dateStart = new Date(); //Today @ 0:00:00 am to unix time stamp 
	dateStart.setYear(year); //set year current Year
	dateStart.setMonth(month); //set month current Month
	dateStart.setDate(day); //set current day of month
	dateStart.setMinutes(0); // minute 0
	dateStart.setHours(0);	 // hour 0
	dateStart.setSeconds(0); // second 0
	int iTimeStamp = (int) (dateStart.getTime() * .001);
	String sStart_TimeStamp = Integer.toString(iTimeStamp);
	
	//helps debugging
	System.out.println("this.Time::: " + this.TimeStamp);
	System.out.println("Start Time::: " + sStart_TimeStamp);
	
	return sStart_TimeStamp;
}
}}}

Get the end of the day 23:59:59 in seconds
{{{
/**
 * Get End of Day Time Stamp
 * @return unix time stamp (seconds)
 */
private String getDateEnd_TimeStamp() {
	
	long ltime = (long) (this.TimeStamp / .001); //my unix time stamp in seconds
	
	//Figure out Unix time stamps for the start of the day and the end of the day
	Date DC = new Date(ltime); //get current Year, Month
	int year = DC.getYear(); //current Year
	int month = DC.getMonth(); //current Month
	int day = DC.getDate();// current Day
	
	Date dateEnd = new Date(); //Today @ 23:59:59 to unix time stamp 
	dateEnd.setYear(year); //set year current Year
	dateEnd.setMonth(month); //set month current Month
	dateEnd.setDate(day); //set current day of month
	dateEnd.setHours(23);	// hour 23
	dateEnd.setMinutes(59); // minute 59
	dateEnd.setSeconds(59); // second 59
	int iTimeStamp = (int) (dateEnd.getTime() * .001);
	String sEnd_TimeStamp = Integer.toString(iTimeStamp);
	
	return sEnd_TimeStamp;
}
}}}

= Client's Time Zone =
 This is how I get the client's time zone. 

 This is the easiest way to get the client's time zone. 
{{{
TimeZone tz = TimeZone.getDefault();
timezone = tz.getID(); //like "America/Vancouver"
}}}

{{{
/**
 * get client's time zone
 * @param type
 * @return
 */
private String getTimeZone(int type) {
	Date today = new Date();
	String timezone = null;
	switch (type) {
		case 1: // date timeZoneMinOffset in minutes
			timezone = Integer.toString(today.getTimezoneOffset()); //like "420"
			break;
		case 2: // time zone RFC822
			timezone = DateTimeFormat.getFormat("Z").format(today); //like "-0700"
			break;
		case 3: //time zone TextShort
			timezone = DateTimeFormat.getFormat("v").format(today); //like "GMT-07:00"
			break;
		case 4: //time zone Name 
			TimeZone tz = TimeZone.getDefault();
			timezone = tz.getID(); //like "America/Vancouver"
			break;
		case 5: //timezone TextLong
			timezone = DateTimeFormat.getLongDateTimeFormat().format(today); //like "March 22, 2008 5:39:22 PM GMT-07:00"
			break;
	}
	return timezone;
}
}}}