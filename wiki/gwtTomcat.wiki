#summary gwt tomcat setup

= Tomcat Setup =
 This is my install on Ubuntu Linux which is quite simple. When running a servlet with jdbc connector I got socket access denied. This stumped me for a bit and I found that Tomcat controls socket access.

 == Install Java ==
{{{
sudo apt-get install sun-java6-bin sun-java6-jdk sun-java6-jre sun-java6-fonts
}}}

 == Install Tomcat5.5 ==
{{{
sudo apt-get install tomcat5.5 tomcat5.5-admin tomcat5.5-webapps
}}}

 == Add Your User Name To Tomcat Config ==
{{{
//In /etc/tomcat5.5/tomcat-users.xml
<user username="branflake2267" password="password" fullName="" roles="admin,manager,role1,tomcat"/>
}}}

 == Restart Tomcat ==
{{{
sudo /etc/init.d/tomcat5.5 force-reload
}}}

 == Test Tomcat Install ==
  load tomcat via http
  http://localhost:8180
   * /admin - tomcat administrator
   * /manager - tomcat manager - deploy war by upload


 == Test Servlet ==
 * test servlet url-pattern - you will get page 405 error, cant use get
 * TomcatServer/webapps/YourProject/Url-Pattern

 == JDBC Socket Permission ==
 Fix this problem: java.security.AccessControlException access denied (java.net.SocketPermission localhost resolve)
 You will need to change Tomcat configuration.
{{{
//On my debian/ubuntu tomcat config
//add to /etc/tomcat5.5/policy.d/04webapps.policy
grant codeBase "file:${catalina.home}/webapps/-" {
      permission java.net.SocketPermission "192.168.12.81:3306", "connect";
};

//reload your tomcat config 
//sudo /etc/init.d/tomcat5.5 force-reload
}}}

 == RPC Failure ==
 If you get a rpc failure it might be this. I found it by using firefox tamper data, finding the page request died at 500 internal server error. This guy narrowed it down [http://rdews.com/?cat=20]. It has to do with security of the serialization. This will fix it if you add it to your tomcat configuration. 
{{{
// adding this to my webapps - seems that the java.lang.reflect serialization isn't happening, so I try this
//add to /etc/tomcat5.5/policy.d/04webapps.policy
grant codeBase "file:${catalina.home}/webapps/-" {
  permission java.security.AllPermission;
};

//reload your tomcat config 
//sudo /etc/init.d/tomcat5.5 force-reload
}}}

 * OR
 Make sure all variables in the object you are going to pass are Public. Like so:
{{{
package com.tribling.gwt.test.loginmanager.client;
import com.google.gwt.user.client.rpc.IsSerializable;

public class SignInStatus implements IsSerializable{
        //NOT private String SessionID;
        //NOT private String DisplayError;
	public String SessionID;
	public String DisplayError;
	
	public SignInStatus() {
	}
	
	public void setSessionID(String SessionID) {
		this.SessionID = SessionID;
	}
	
	public void setDisplayError(String DisplayError) {
		this.DisplayError = DisplayError;
	}
	
	public String getSessionID() {
		return this.SessionID;
	}
	
	public String getDisplayError() {
		return this.DisplayError;
	}

}