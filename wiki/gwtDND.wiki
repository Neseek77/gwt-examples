#summary tips using gwt-dnd

= GWT-DND Library =
 [http://code.google.com/p/gwt-dnd/] - very nice drag n drop library



= Dragging a Composite Widget =
 In order to drag a composite widget you must make your own dragHandler. In this case, I make a custom vertical panel with sinkEvents in order to watch for clicks(mouseEvents) on the verticalpanel. 


 Make your composite widget consisting of this panel somewhere in the composite widget. 
{{{
/**
 * I use this panel for the drag handler for my composite widgets
 * dragHandler = where the mouse holds the widget while dragging
 * 
 * @author Brandon Donnelson
 * 
 * I extend the vertical panel - not a composite widget
 */
public class WatchEventPanel extends VerticalPanel implements SourcesMouseEvents {

	private MouseListenerCollection mouseListeners;

	/**
	 * constructor - extending VerticalPanel with event watching
	 */
	public WatchEventPanel() {
		
		//watch this widget's mouse events
		sinkEvents(Event.MOUSEEVENTS);
	}

	/**
	 * watch for browser events - from sinkEvents([MouseEvents])
	 */
    public void onBrowserEvent(Event event) {

        switch (DOM.eventGetType(event)) {
        	case Event.ONMOUSEDOWN:
	        	if (mouseListeners != null) {
					mouseListeners.fireMouseEvent(this, event);
				}
        		break;
        	case Event.ONMOUSEMOVE:
	        	if (mouseListeners != null) {
					mouseListeners.fireMouseEvent(this, event);
				}
        		break;
        	case Event.ONMOUSEOUT:
        		break;
        	case Event.ONMOUSEOVER:
        		break;
        	case Event.ONMOUSEUP:
	        	if (mouseListeners != null) {
					mouseListeners.fireMouseEvent(this, event);
				} 
        		break;
        	case Event.ONMOUSEWHEEL:
        		break;
        } 
    }
    
    /**
     * observer stuff
     */
	public void addMouseListener(MouseListener listener) {
		if (mouseListeners == null)
			mouseListeners = new MouseListenerCollection();
		mouseListeners.add(listener);
	}

	public void removeMouseListener(MouseListener listener) {
		if (mouseListeners != null)
			mouseListeners.remove(listener);
	} 

}
}}}

 == Getting the DragHandler From The Composite Widget In Order To Drag It==
 I make a method to get my dragHandler (WatchEventPanel) from my composite widget.
{{{
//make my widget first
MyWidget wCompositeWidget = new MyWidget();
MyWidget.setLabel("test");

//get my dragHandler in that widget (WatchEventPanel)
Widget wDrag = wCompositeWidget.getDragHandler();

//add my widget to a panel that renders to screen
pVerticalPanel.add(wCompositeWidget);
		
//make Vertical Panel draggable
widgetDragController.makeDraggable(pVerticalPanel, wDrag);
}}}